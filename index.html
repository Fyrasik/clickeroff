<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>F-Clicker Pro</title>
<style>
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  }
  
  body {
    background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
    min-height: 100vh;
    padding: 20px;
    color: #fff;
  }

  .container {
    background-color: rgba(255, 255, 255, 0.1);
    border-radius: 15px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    padding: 30px;
    width: 100%;
    max-width: 500px;
    margin: 0 auto;
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
  }

  /* Login Screen */
  .screen {
    display: none;
    text-align: center;
  }
  
  .active {
    display: block;
  }
  
  h1 {
    color: #ffd700;
    margin-bottom: 20px;
    font-size: 2.2rem;
    text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
  }
  
  input {
    width: 100%;
    padding: 12px 15px;
    margin: 15px 0;
    border: 2px solid rgba(255, 255, 255, 0.3);
    border-radius: 8px;
    font-size: 16px;
    transition: border-color 0.3s;
    background: rgba(255, 255, 255, 0.1);
    color: white;
  }
  
  input::placeholder {
    color: rgba(255, 255, 255, 0.7);
  }
  
  input:focus {
    border-color: #ffd700;
    outline: none;
  }
  
  button {
    background: linear-gradient(to right, #4a90e2, #63b3ed);
    color: white;
    border: none;
    padding: 12px 25px;
    border-radius: 8px;
    font-size: 16px;
    cursor: pointer;
    transition: transform 0.2s, box-shadow 0.2s;
    margin: 10px 5px;
  }
  
  button:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
  }

  /* Game Interface */
  .header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 10px;
    background: rgba(0, 0, 0, 0.8);
    border-radius: 15px;
    margin-bottom: 20px;
    border: 1px solid #333;
  }
  .title {
    font-size: 24px;
    font-weight: bold;
    color: #ffd700;
    text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
  }
  .profile {
    display: flex;
    align-items: center;
    gap: 10px;
  }
  .profile img {
    width: 40px; 
    height: 40px;
    border-radius: 50%;
    border: 2px solid #ffd700;
  }
  .coins {
    font-size: 32px;
    margin: 20px 0;
    text-align: center;
    font-weight: bold;
    background: linear-gradient(45deg, #ffd700, #ffed4e, #ffd700);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    text-shadow: 0 0 20px rgba(255, 215, 0, 0.3);
    animation: shine 2s ease-in-out infinite alternate;
  }
  @keyframes shine {
    0% { filter: brightness(1); }
    100% { filter: brightness(1.3); }
  }
  .character-container {
    display: flex;
    justify-content: center;
    margin: 30px 0;
  }
  .character {
    width: 250px;
    height: 250px;
    border-radius: 50%;
    background: radial-gradient(circle, #2a2a2a 0%, #000 70%);
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
    position: relative;
    border: 4px solid #ffd700;
    box-shadow: 0 0 30px rgba(255, 215, 0, 0.3);
    cursor: pointer;
    transition: transform 0.1s ease;
  }
  .character:active {
    transform: scale(0.95);
  }
  .character img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
  .stats {
    display: flex;
    justify-content: space-around;
    margin: 30px 0;
  }
  .stat {
    display: flex;
    align-items: center;
    font-size: 16px;
    background: rgba(40, 40, 40, 0.8);
    padding: 10px 15px;
    border-radius: 10px;
    border: 1px solid #333;
  }
  .stat img {
    width: 20px;
    height: 20px;
    margin-right: 8px;
    filter: invert(1);
  }
  
  /* Tabs */
  .tabs {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 10px;
    margin: 20px 0;
  }
  .tab {
    background: rgba(40, 40, 40, 0.8);
    border: 1px solid #333;
    padding: 12px 5px;
    border-radius: 10px;
    cursor: pointer;
    text-align: center;
    transition: all 0.3s ease;
    font-size: 0.9em;
  }
  .tab.active {
    background: rgba(255, 215, 0, 0.2);
    border-color: #ffd700;
  }
  .tab:hover {
    background: rgba(255, 215, 0, 0.1);
  }
  
  /* Pages */
  .page {
    display: none;
    background: rgba(40, 40, 40, 0.8);
    padding: 20px;
    border-radius: 15px;
    border: 1px solid #333;
    margin-top: 20px;
    min-height: 400px;
  }
  .page.active {
    display: block;
  }
  
  /* Upgrades Grid */
  .upgrades-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 15px;
    margin-top: 20px;
  }
  .upgrade-item {
    background: rgba(50, 50, 50, 0.8);
    padding: 20px 15px;
    border-radius: 10px;
    border: 1px solid #444;
    cursor: pointer;
    transition: all 0.3s ease;
    text-align: center;
    min-height: 120px;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
  }
  .upgrade-item:hover {
    background: rgba(255, 215, 0, 0.1);
    border-color: #ffd700;
    transform: translateY(-2px);
  }
  .upgrade-item.disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
  .upgrade-name {
    font-weight: bold;
    color: #ffd700;
    font-size: 1.1em;
    margin-bottom: 8px;
  }
  .upgrade-cost {
    color: #ffd700;
    font-size: 0.9em;
    margin-bottom: 5px;
  }
  .upgrade-level {
    font-size: 0.8em;
    color: #888;
  }
  
  /* Leaderboard */
  .leaderboard-item {
    display: flex;
    justify-content: space-between;
    padding: 12px;
    border-bottom: 1px solid #333;
    background: rgba(40, 40, 40, 0.8);
    margin: 8px 0;
    border-radius: 8px;
    align-items: center;
  }
  .leaderboard-item.you {
    background: rgba(255, 215, 0, 0.1);
    border: 1px solid #ffd700;
  }
  .player-rank {
    font-weight: bold;
    width: 30px;
    color: #ffd700;
  }
  
  /* Bonuses */
  .bonus-item {
    background: rgba(50, 50, 50, 0.8);
    padding: 20px;
    border-radius: 10px;
    margin: 15px 0;
    text-align: center;
    cursor: pointer;
    transition: all 0.3s ease;
    border: 1px solid #444;
  }
  .bonus-item:hover {
    background: rgba(255, 215, 0, 0.1);
    border-color: #ffd700;
  }
  .bonus-reward {
    color: #ffd700;
    font-weight: bold;
    font-size: 1.2em;
    margin: 10px 0;
  }

  .coin-label {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 24px;
    font-weight: bold;
    color: #ffd700;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.8);
    z-index: 2;
  }

  .logout-btn {
    background: linear-gradient(to right, #e74c3c, #c0392b);
    width: 100%;
    margin-top: 20px;
  }

  /* Notification System */
  .notification {
    position: fixed;
    top: 20px;
    right: 20px;
    background: rgba(40, 40, 40, 0.95);
    color: #fff;
    padding: 15px;
    border-radius: 10px;
    border-left: 4px solid #ffd700;
    box-shadow: 0 4px 15px rgba(0,0,0,0.5);
    display: flex;
    align-items: center;
    gap: 10px;
    border: 1px solid #333;
    z-index: 1000;
    max-width: 300px;
    transform: translateX(400px);
    transition: transform 0.3s ease;
  }

  .notification.show {
    transform: translateX(0);
  }

  .notification.success {
    border-left-color: #ffd700;
  }

  .notification.error {
    border-left-color: #ff4444;
  }
</style>
</head>
<body>

<!-- Login Screen -->
<div class="container">
  <div id="login-screen" class="screen active">
    <h1>F-Clicker Pro</h1>
    <p>–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –Ω–∏–∫–Ω–µ–π–º, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –∏–≥—Ä–∞—Ç—å</p>
    <input type="text" id="username-input" placeholder="–í–∞—à –Ω–∏–∫–Ω–µ–π–º" maxlength="20">
    <button id="login-btn">–ù–∞—á–∞—Ç—å –∏–≥—Ä—É</button>
  </div>

  <!-- Game Screen -->
  <div id="game-screen" class="screen">
    <div class="header">
      <div class="title">F-Clicker Pro</div>
      <div class="profile">
        <img src="https://via.placeholder.com/40/ffd700/000?text=F" alt="–ü—Ä–æ—Ñ–∏–ª—å" />
        <div id="player-name">–ò–≥—Ä–æ–∫</div>
      </div>
    </div>

    <div class="coins">
      <div id="balance">0 <span style="color: #ffd700">Fcoin</span></div>
    </div>

    <!-- Clicker Page -->
    <div class="page active" id="clicker-page">
      <div class="character-container">
        <div class="character" onclick="handleClick()">
          <img src="https://pixsafe.online/view?id=RSaco" alt="–ö–ª–∏–∫–µ—Ä" id="clickImage" />
          <div class="coin-label">Fcoin</div>
        </div>
      </div>
      <div class="stats">
        <div class="stat">
          <img src="https://img.icons8.com/ios/50/ffffff/lightning-bolt.png" alt="–≠–Ω–µ—Ä–≥–∏—è"/>
          <div id="clickPower">–°–∏–ª–∞: 1</div>
        </div>
        <div class="stat">
          <img src="https://img.icons8.com/ios/50/ffffff/rocket.png" alt="–£—Å–∫–æ—Ä–∏—Ç—å"/>
          <div id="totalClicks">–ö–ª–∏–∫–æ–≤: 0</div>
        </div>
      </div>
      <div style="text-align: center; color: #ffd700; font-weight: bold; margin-top: 20px;">
        –ö–ª–∏–∫–∞–π –Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫—É —á—Ç–æ–±—ã –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å Fcoin! üéØ
      </div>
    </div>

    <!-- Upgrades Page -->
    <div class="page" id="upgrades-page">
      <h3 style="color: #ffd700; margin-bottom: 20px; text-align: center;">‚ö° –£–ª—É—á—à–µ–Ω–∏—è</h3>
      <div class="upgrades-grid" id="upgradesGrid">
        <!-- Upgrades will be loaded here -->
      </div>
    </div>

    <!-- Leaderboard Page -->
    <div class="page" id="leaderboard-page">
      <h3 style="color: #ffd700; margin-bottom: 20px; text-align: center;">üèÜ –¢–æ–ø –∏–≥—Ä–æ–∫–æ–≤</h3>
      <div class="leaderboard-list" id="leaderboardList">
        <!-- Leaderboard will be loaded here -->
      </div>
    </div>

    <!-- Bonuses Page -->
    <div class="page" id="bonuses-page">
      <h3 style="color: #ffd700; margin-bottom: 20px; text-align: center;">üéÅ –ë–æ–Ω—É—Å—ã</h3>
      <div class="bonus-item" onclick="claimBonus(2000, 'youtube')">
        <div style="font-weight:bold; font-size: 1.1em;">üì∫ –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ YouTube</div>
        <div class="bonus-reward">+2,000 Fcoin</div>
        <div>–ü–æ–¥–ø–∏—à–∏—Å—å –Ω–∞ –Ω–∞—à –∫–∞–Ω–∞–ª –∏ –ø–æ–ª—É—á–∏ –Ω–∞–≥—Ä–∞–¥—É!</div>
      </div>
      <div class="bonus-item" onclick="claimBonus(500, 'daily')">
        <div style="font-weight:bold; font-size: 1.1em;">üìÖ –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –±–æ–Ω—É—Å</div>
        <div class="bonus-reward">+500 Fcoin</div>
        <div>–ó–∞—Ö–æ–¥–∏ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –∑–∞ –Ω–æ–≤–æ–π –Ω–∞–≥—Ä–∞–¥–æ–π!</div>
      </div>
      <div class="bonus-item" onclick="claimBonus(1000, 'friend')">
        <div style="font-weight:bold; font-size: 1.1em;">üë• –ü—Ä–∏–≥–ª–∞—Å–∏ –¥—Ä—É–≥–∞</div>
        <div class="bonus-reward">+1,000 Fcoin</div>
        <div>–ü–æ–¥–µ–ª–∏—Å—å –∏–≥—Ä–æ–π —Å –¥—Ä—É–∑—å—è–º–∏!</div>
      </div>
    </div>

    <!-- Tabs Navigation -->
    <div class="tabs">
      <div class="tab active" onclick="showPage('clicker')">üéÆ –ö–ª–∏–∫–µ—Ä</div>
      <div class="tab" onclick="showPage('upgrades')">‚ö° –£–ª—É—á—à–µ–Ω–∏—è</div>
      <div class="tab" onclick="showPage('leaderboard')">üèÜ –¢–æ–ø</div>
      <div class="tab" onclick="showPage('bonuses')">üéÅ –ë–æ–Ω—É—Å—ã</div>
    </div>

    <button id="logout-btn" class="logout-btn">–í—ã–π—Ç–∏</button>
  </div>
</div>

<div id="notification" class="notification"></div>

<script>
  // Game State
  let currentUser = null;
  let balance = 0;
  let clickPower = 1;
  let totalClicks = 0;
  let autoClicker = 0;
  let claimedBonuses = [];

  // –°–∏—Å—Ç–µ–º–∞ —É–ª—É—á—à–µ–Ω–∏–π
  const upgradesData = [
    {
      id: 1,
      name: "üí™ –£—Å–∏–ª–µ–Ω–Ω—ã–π –ø–∞–ª–µ—Ü",
      cost: 50,
      power: 1,
      description: "+1 –∫ —Å–∏–ª–µ –∫–ª–∏–∫–∞",
      level: 0,
      maxLevel: 10
    },
    {
      id: 2,
      name: "üöÄ –ê–≤—Ç–æ–∫–ª–∏–∫–µ—Ä",
      cost: 200,
      power: 0,
      description: "+1 –∞–≤—Ç–æ–∫–ª–∏–∫ –≤ —Å–µ–∫—É–Ω–¥—É",
      level: 0,
      maxLevel: 5
    },
    {
      id: 3,
      name: "‚ö° –ú–µ–≥–∞-–∫–ª–∏–∫",
      cost: 500,
      power: 5,
      description: "+5 –∫ —Å–∏–ª–µ –∫–ª–∏–∫–∞",
      level: 0,
      maxLevel: 3
    },
    {
      id: 4,
      name: "üîÆ –ú–∞–≥–∏—á–µ—Å–∫–∏–π –ø–∞–ª–µ—Ü",
      cost: 1000,
      power: 10,
      description: "+10 –∫ —Å–∏–ª–µ –∫–ª–∏–∫–∞",
      level: 0,
      maxLevel: 2
    }
  ];

  // Database Functions
  function initDatabase() {
    if (!localStorage.getItem('fclicker_users')) {
      localStorage.setItem('fclicker_users', JSON.stringify({}));
    }
  }

  function getUsers() {
    return JSON.parse(localStorage.getItem('fclicker_users')) || {};
  }

  function saveUser(username, userData) {
    const users = getUsers();
    users[username] = {
      ...userData,
      lastPlayed: new Date().toISOString()
    };
    localStorage.setItem('fclicker_users', JSON.stringify(users));
  }

  function getUser(username) {
    const users = getUsers();
    return users[username] || null;
  }

  // Notification System
  function showNotification(message, isSuccess = true) {
    const notification = document.getElementById('notification');
    notification.textContent = message;
    notification.className = `notification ${isSuccess ? 'success' : 'error'}`;
    notification.classList.add('show');
    
    setTimeout(() => {
      notification.classList.remove('show');
    }, 3000);
  }

  // Leaderboard
  function updateLeaderboard() {
    const users = getUsers();
    const sortedUsers = Object.entries(users)
      .sort((a, b) => b[1].balance - a[1].balance)
      .slice(0, 10);
    
    const container = document.getElementById('leaderboardList');
    container.innerHTML = '';
    
    if (sortedUsers.length === 0) {
      container.innerHTML = '<div style="text-align: center; padding: 20px; color: #888;">–ü–æ–∫–∞ –Ω–µ—Ç –∏–≥—Ä–æ–∫–æ–≤</div>';
      return;
    }
    
    sortedUsers.forEach(([username, data], index) => {
      const item = document.createElement('div');
      item.className = `leaderboard-item ${username === currentUser ? 'you' : ''}`;
      
      item.innerHTML = `
        <div class="player-rank">${index + 1}</div>
        <div style="flex: 1; text-align: left; margin-left: 10px;">${username}</div>
        <div style="color: #ffd700; font-weight: bold;">${data.balance} Fcoin</div>
      `;
      
      container.appendChild(item);
    });
  }

  // Game Functions
  function handleClick() {
    if (!currentUser) return;
    
    balance += clickPower;
    totalClicks++;
    updateDisplay();
    saveGame();
  }

  function updateDisplay() {
    document.getElementById('balance').innerHTML = balance.toLocaleString() + ' <span style="color: #ffd700">Fcoin</span>';
    document.getElementById('clickPower').textContent = '–°–∏–ª–∞: ' + clickPower;
    document.getElementById('totalClicks').textContent = '–ö–ª–∏–∫–æ–≤: ' + totalClicks;
    document.getElementById('player-name').textContent = currentUser;
    renderUpgrades();
    updateLeaderboard();
  }

  function showPage(pageName) {
    document.querySelectorAll('.page').forEach(page => {
      page.classList.remove('active');
    });
    document.querySelectorAll('.tab').forEach(tab => {
      tab.classList.remove('active');
    });

    document.getElementById(pageName + '-page').classList.add('active');
    event.target.classList.add('active');
  }

  function renderUpgrades() {
    const container = document.getElementById('upgradesGrid');
    container.innerHTML = '';

    upgradesData.forEach(upgrade => {
      const canAfford = balance >= upgrade.cost;
      const isMaxLevel = upgrade.level >= upgrade.maxLevel;
      
      const element = document.createElement('div');
      element.className = `upgrade-item ${!canAfford || isMaxLevel ? 'disabled' : ''}`;
      element.onclick = () => !isMaxLevel && canAfford && buyUpgrade(upgrade.id);
      
      element.innerHTML = `
        <div class="upgrade-name">${upgrade.name}</div>
        <div class="upgrade-cost">${upgrade.cost} Fcoin</div>
        <div style="font-size: 0.8em; margin-bottom: 5px;">${upgrade.description}</div>
        <div class="upgrade-level">–£—Ä. ${upgrade.level}/${upgrade.maxLevel}</div>
      `;
      
      container.appendChild(element);
    });
  }

  function buyUpgrade(upgradeId) {
    const upgrade = upgradesData.find(u => u.id === upgradeId);
    
    if (!upgrade || balance < upgrade.cost || upgrade.level >= upgrade.maxLevel) {
      return;
    }
    
    balance -= upgrade.cost;
    upgrade.level++;
    
    if (upgrade.power > 0) {
      clickPower += upgrade.power;
    } else {
      autoClicker += 1;
    }
    
    upgrade.cost = Math.floor(upgrade.cost * 1.5);
    
    updateDisplay();
    saveGame();
    showNotification(`${upgrade.name} —É–ª—É—á—à–µ–Ω–æ –¥–æ —É—Ä–æ–≤–Ω—è ${upgrade.level}!`);
  }

  function claimBonus(amount, bonusType) {
    if (claimedBonuses.includes(bonusType)) {
      showNotification('–≠—Ç–æ—Ç –±–æ–Ω—É—Å —É–∂–µ –ø–æ–ª—É—á–µ–Ω!', false);
      return;
    }
    
    balance += amount;
    claimedBonuses.push(bonusType);
    updateDisplay();
    saveGame();
    
    let message = '';
    switch(bonusType) {
      case 'youtube':
        message = '–ü–æ–¥–ø–∏—à–∏—Å—å –Ω–∞ –Ω–∞—à YouTube –∫–∞–Ω–∞–ª!';
        window.open('https://youtube.com', '_blank');
        break;
      case 'daily':
        message = '–í–æ–∑–≤—Ä–∞—â–∞–π—Å—è –∑–∞–≤—Ç—Ä–∞ –∑–∞ –Ω–æ–≤—ã–º –±–æ–Ω—É—Å–æ–º!';
        break;
      case 'friend':
        message = '–ü–æ–¥–µ–ª–∏—Å—å –∏–≥—Ä–æ–π —Å –¥—Ä—É–∑—å—è–º–∏!';
        break;
    }
    
    showNotification(`+${amount.toLocaleString()} Fcoin! ${message}`);
  }

  // Save/Load Game
  function saveGame() {
    if (!currentUser) return;
    
    const userData = {
      balance,
      clickPower,
      totalClicks,
      autoClicker,
      claimedBonuses,
      upgrades: upgradesData.map(upgrade => ({
        id: upgrade.id,
        level: upgrade.level,
        cost: upgrade.cost
      }))
    };
    
    saveUser(currentUser, userData);
    localStorage.setItem('fclicker_lastUser', currentUser);
  }

  function loadGame() {
    if (!currentUser) return;
    
    const userData = getUser(currentUser);
    if (userData) {
      balance = userData.balance || 0;
      clickPower = userData.clickPower || 1;
      totalClicks = userData.totalClicks || 0;
      autoClicker = userData.autoClicker || 0;
      claimedBonuses = userData.claimedBonuses || [];
      
      // Load upgrades
      if (userData.upgrades) {
        userData.upgrades.forEach(savedUpgrade => {
          const upgrade = upgradesData.find(u => u.id === savedUpgrade.id);
          if (upgrade) {
            upgrade.level = savedUpgrade.level;
            upgrade.cost = savedUpgrade.cost;
          }
        });
      }
    }
  }

  // Auto-clicker
  function autoClick() {
    if (autoClicker > 0 && currentUser) {
      balance += autoClicker;
      totalClicks += autoClicker;
      updateDisplay();
      saveGame();
    }
  }

  setInterval(autoClick, 1000);

  // Login System
  function login() {
    const username = document.getElementById('username-input').value.trim();
    
    if (!username) {
      showNotification('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –Ω–∏–∫–Ω–µ–π–º', false);
      return;
    }
    
    currentUser = username;
    
    // Initialize or load user data
    if (!getUser(username)) {
      const initialData = {
        balance: 0,
        clickPower: 1,
        totalClicks: 0,
        autoClicker: 0,
        claimedBonuses: [],
        upgrades: upgradesData.map(upgrade => ({
          id: upgrade.id,
          level: 0,
          cost: upgrade.cost
        }))
      };
      saveUser(username, initialData);
      showNotification(`–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, ${username}!`);
    } else {
      loadGame();
      showNotification(`–° –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ–º, ${username}!`);
    }
    
    // Update UI
    document.getElementById('login-screen').classList.remove('active');
    document.getElementById('game-screen').classList.add('active');
    updateDisplay();
  }

  function logout() {
    saveGame();
    currentUser = null;
    document.getElementById('username-input').value = '';
    document.getElementById('game-screen').classList.remove('active');
    document.getElementById('login-screen').classList.add('active');
  }

  // Initialize
  document.addEventListener('DOMContentLoaded', () => {
    initDatabase();
    
    // Event listeners
    document.getElementById('login-btn').addEventListener('click', login);
    document.getElementById('logout-btn').addEventListener('click', logout);
    document.getElementById('username-input').addEventListener('keypress', (e) => {
      if (e.key === 'Enter') login();
    });
    
    // Auto-login
    const lastUser = localStorage.getItem('fclicker_lastUser');
    if (lastUser && getUser(lastUser)) {
      document.getElementById('username-input').value = lastUser;
      setTimeout(login, 500);
    }
  });
</script>
</body>
</html>
